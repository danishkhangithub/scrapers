$(document).ready(function(){"undefined"!==typeof SELECTED_PC&&($(".product-select option[value="+SELECTED_PC+"]").attr("selected","selected"),$("#product option[value="+SELECTED_PC+"]").attr("selected","selected"));$("#product, .product-select").change(function(){var a=$(this).attr("data-store-url")?$(this).attr("data-store-url")+"/":WEB_ROOT_DIR+"company-profile/";""===this.value?$(location).attr("href",a):$(location).attr("href",a+this.value+"/page1.html")});$(".industry-select").change(function(){var a=
$(this).attr("data-store-url")?$(this).attr("data-store-url")+"/":WEB_ROOT_DIR+"company-profile/";""===this.value?$(location).attr("href",a):$(location).attr("href",a+this.value+"/page1.html")});$(document).on("click",".inactive",function(a){a.preventDefault()});$(document).on("click",".back-to-the-ptofile",function(a){$(".back-to-the-ptofile").hide();$("#cybersource_iframe").attr("src","about:blank");$("#cybersource_iframe").closest(".content-iframe").hide();$(".content-main").show();$("#similar-companies").show();
$(".similar-companies-anchor").show();$(".purchase-button-bottom").show();$(".report-pages-preview").show()});var c=function(a){var b=a.attr("data-prod"),d=a.attr("data-lang"),c=a.attr("data-referer"),e=a.attr("data-payment-processor");a=a.attr("data-search-id");b={prod:b,lang:d,payment_processor:e,referer:c,search_id:a};openLoadingDialog("Loading... Please wait!");$.ajax({type:"post",url:WEB_ROOT_DIR+"store/deals/purchase",data:b,success:function(a){if(a)if(a.url){var b,d=$('<form action="'+a.url+
'" method="post"></form>');for(b in a){var c=$('<input type="text" name="" value=""/>').attr("name",b).val(a[b]);d.append(c)}d.appendTo("body").submit().remove()}else a.error&&($("<div></div>").append(a.error).appendTo(document.body).dialog({width:600,modal:!0,resizable:!1,title:"EMIS Store",close:function(){$(this).remove()}}),closeLoadingDialog());else closeLoadingDialog()},error:function(){closeLoadingDialog()}})},e=function(a){var b=a.attr("data-dcid"),d=a.attr("data-prod"),c=a.attr("data-lang"),
e=a.attr("data-referer");a=a.attr("data-payment-processor");b={dcid:b,prod:d,lang:c,payment_processor:a,referer:e};openLoadingDialog("Loading... Please wait!");$.ajax({type:"post",url:WEB_ROOT_DIR+"store/reports/purchase",data:b,success:function(a){if(a)if(a.url){var b,d=$('<form action="'+a.url+'" method="post"></form>');for(b in a){var c=$('<input type="text" name="" value=""/>').attr("name",b).val(a[b]);d.append(c)}d.appendTo("body").submit().remove()}else a.error&&($("<div></div>").append(a.error).appendTo(document.body).dialog({width:600,
modal:!0,resizable:!1,title:"EMIS Store",close:function(){$(this).remove()}}),closeLoadingDialog());else closeLoadingDialog()},error:function(){closeLoadingDialog()}})},g=function(a){var b=a.attr("data-cmpy"),d=a.attr("data-cmpy-prod"),c=a.attr("data-lang"),e=a.attr("data-cons"),f=a.attr("data-referer");a=a.attr("data-payment-processor");var g=[];$("[name='rbpoints[]']:enabled").each(function(){g.push($(this).val())});b={cmpy:b,pc:d,lang:c,cons:e,rbpoints:g,payment_processor:a,referer:f};openLoadingDialog("Loading... Please wait!");
$.ajax({type:"post",url:WEB_ROOT_DIR+"company-profile/index/purchase",data:b,success:function(a){a?a.url?$('<form action="'+a.url+'" method="get"></form>').appendTo("body").submit().remove():a.error&&($("<div></div>").append(a.error).appendTo(document.body).dialog({width:600,modal:!0,resizable:!1,title:"EMIS Store",close:function(){$(this).remove()}}),closeLoadingDialog()):closeLoadingDialog()},error:function(){closeLoadingDialog()}})};$(document).on("click",".purchase-now",function(a,b){a.preventDefault();
a="company";$(this).attr("data-type")&&(a=$(this).attr("data-type"));var d="";"company"===a?d="company profile":"industry"===a?d="insight report":"mareports"===a?d="M&A report":"madeals"===a&&(d="M&A deals");window.dataLayer=window.dataLayer||[];dataLayer.push({event:"visitor interaction",interaction_name:"add to cart",buy_btn_position:"undefined"!=typeof b&&b.buttonPossition?b.buttonPossition:this.dataset.buttonPossition,ecommerce:{add:{products:[{name:this.dataset.cmpyName,id:this.dataset.cmpy,
price:this.dataset.price,brand:d,category:this.dataset.cmpyProd+"/"+this.dataset.mainIndul3,variant:this.dataset.langl3,quantity:1}]}}});"company"===a?g($(this)):"industry"===a||"mareports"===a?e($(this)):"madeals"===a&&c($(this))});$(document).on("click",".download-purchased-report",function(a){a.preventDefault();var b=$(this).closest(".download-report").attr("data-uid"),d=$(this).closest(".download-report").attr("data-prod");a=$(this).closest(".download-report").attr("data-type");var c=$(this).closest(".download-report").attr("data-app-url");
b=$('<input type="text" name="uid" value=""/>').val(b);d=$('<input type="text" name="pc" value=""/>').val(d);var e=c+WEB_ROOT_DIR+"company-profile/index/download-purchased-report";"industry"===a||"mareports"===a?e=c+WEB_ROOT_DIR+"store/reports/download-purchased-report":"madeals"===a&&(e=c+WEB_ROOT_DIR+"store/deals/download-purchased-deals");$('<form action="'+e+'" method="get"></form>').append(b).append(d).appendTo("body").submit().remove()});$(document).on("click",".regenerate-purchased-report",
function(a){a.preventDefault();var b=$(this).closest(".download-report").attr("data-uid");a=$(this).closest(".download-report").attr("data-prod");$(this).closest(".download-report").attr("data-type");var c=$(this).closest(".download-report").attr("data-app-url");$.ajax({type:"get",url:c+WEB_ROOT_DIR+"company-profile/"+a+"/regenerate-purchased-report/"+b,success:function(){var a=$('.download-report[data-uid="'+b+'"]');a.find(".download-purchased-report").closest("span").hide();a.find(".generating-purchased-report-span").show();
checkBasketStatus(!0)}})});var f;checkPurchasedReport=function d(b){var c=$(".download-report").attr("data-uid"),e=$(".download-report").attr("data-prod");if(!c||!e)return!1;b?f=setInterval(function(){d()},1E4):$.ajax({type:"get",url:WEB_ROOT_DIR+"company-profile/"+e+"/check-purchased-report/"+c,success:function(b){if(b){var c=!1;b.errorMessage&&($(".check-payment").hide(),$(".check-generation").hide(),$(".payment-error-message").html(b.errorMessage),$(".payment-error-message").show(),c=!0);"paid"===
b.purchaseStatus&&$(".check-payment").hide();"generated"===b.status&&$(".check-generation").hide();if("paid"===b.purchaseStatus){var d=!1;"industry"===b.type||"mareports"===b.type?d=!0:"generated"===b.status&&(d=!0);d&&($(".download-report").show(),c=!0)}c&&clearInterval(f)}}})};$(function(){$("#check-purchased-report").val()&&checkPurchasedReport(!0);$("#check-basket-status").val()&&checkBasketStatus(!0);var b=null;$("#cmpnameMegaMenu, #indunameMegaMenu").keyup(function(){var c=$(this);clearTimeout(b);
b=setTimeout(function(){keywordKeyUp(c)},500)});$("html").click(function(){$("#resultsWrapperRefineMegaMenu").hide();$("#resultsWrapperRefineMegaMenuInd").hide()});$("#narrowSearchMegaMenu1").on("click",function(b){b.preventDefault();$("#searchcomp").length&&$("#searchcomp").submit()})});$(document).on("click",".request-demo-button",function(b){b=this.dataset.buttonPossition;window.dataLayer=window.dataLayer||[];dataLayer.push({event:"visitor interaction",interaction_name:"request demo",button_position:b})});
$(document).on("click",".social-media-button",function(b){b=this.dataset.buttonPossition;var c=this.dataset.linkDestination;window.dataLayer=window.dataLayer||[];dataLayer.push({event:"visitor interaction",interaction_name:"social link click",link_destination:c,button_position:b})});$(document).on("click",".download-sample-button",function(b){b=this.dataset.buttonPossition;var c=this.dataset.reportType;window.dataLayer=window.dataLayer||[];dataLayer.push({event:"visitor interaction",interaction_name:"view sample report",
button_position:b,report_type:c})});$(document).on("click",".div-order-sum-sh",function(b){"show"===$(".order-title:visible").attr("data-action")?($('.order-title[data-action="hide"]').show(),$(".div-order-sum").show(),$('.order-title[data-action="show"]').hide()):($('.order-title[data-action="hide"]').hide(),$(".div-order-sum").hide(),$('.order-title[data-action="show"]').show())})});
function keywordKeyUp(c){var e;var g=c.attr("id");var f=e="",a=$("#narrowSearchMegaMenu").attr("data-url");"cmpnameMegaMenu"===g?e="cmpnamemegamenu":"indunameMegaMenu"===g&&(e="subp=&indunamemegamenu",f="Ind");g=$("#resultsWrapperRefineMegaMenu"+f);var b=$("#resultsHolderRefineMegaMenu"+f);e="&"+e+"="+encodeURIComponent(c.val());2<c.val().length?(g.css("top","Ind"===f?"6.6em":0).show(),b.html("Searching..."),$.ajax({type:"POST",url:a+e+"&username=admin&page=public",data:$("#searchcomp").serialize(),
dataType:"html",success:function(a){a=a.replace(/\/companies\/index\?pc=(\w{2})&cmpy=(\d+)">(.*?)</mg,customReplace);b.html(a)},error:function(a){console&&console.error&&console.error(a)}})):g.hide()}function onBlur(c){c.value||(c.value=c.defaultValue)}function onFocus(c){c.value===c.defaultValue&&(c.value="")}function customReplace(c,e,g,f){c=f;f=f.replace(/\s+/g,"_");f=f.replace(/_\(.*?\)$/,"");return"/company-profile/"+e+"/"+f+"_en_"+g+'.html">'+c+"<"}
function loadInsights(){$.getJSON("//ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?",{num:4,q:FEED_URL}).done(function(c){rssObject=c.responseData.feed.entries;c="";for(var e=0;e<rssObject.length;e+=1)el=rssObject[e],c+='<div class="clearfix"><div class="f-l">'+el.content+"</div>",c+='<div class="f-r"><span class="ins-country">'+el.categories[0]+"</span>",c+='<a class="ins-title" href="'+EmiscomHost+el.link+'">'+el.title+"</a>",c+='<span class="ins-date">'+$.datepicker.formatDate("MM dd, yy",
new Date(el.publishedDate))+"</span>",c+='<span class="ins-source">Source: <span class="fw-b">'+el.author+"</span></span></div></div>";$("#insights").html(c)})};